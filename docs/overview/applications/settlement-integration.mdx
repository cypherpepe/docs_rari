---
sidebar_label: Token-agnostic payments
---

# Rarimo NFT Checkout Use Case v0.3

Rarimo's NFT checkout flow automates token swaps, which allows users to make cross-chain purchases seamlessly.
Clients can accept practically any fungible token from Rarimo's supported blockchains and receive payments in their token of choice.

For a working demo of this use case, see the [NFT Checkout use case demo](https://rarimo.gitlab.io/demo-settlement/?path=/story/demo-purchasewithanytoken--demo).
To see full instructions for getting test UNI and using it to buy an NFT using Rarimo, click the instructions at the bottom of the demo page.

Rarimo's unique bundling technology bundles and automates the conversion transactions to minimize fees and increase transaction reliability.
In particular, it automates two main conversions:

- Converting the customer payment token to the token that the seller accepts
- Moving the converted tokens from the buyer's chain to the chain that the seller wants to accept payment on

For more information about transaction bundling, see [Bundling](../bundling).

Making purchases with this flow follows these general steps:

1. On a web application, such as an NFT marketplace, a customer buys an NFT, provides their payment information, and selects the token to use for payment from a list of supported payment tokens.
1. The web application creates a transaction and sends the payment tokens to a swap contract on the same chain.
1. The swap contract calls the distributed exchange (DEX) and sends the payment tokens to it.
1. The DEX exchanges the payment tokens for the tokens that the seller accepts and returns those exchanged tokens to the swap contract.
1. The swap contract sends the exchanged tokens to the Rarimo bridge contract.
1. The bridge contract locks the tokens and generates a witness to prove that it has the tokens.
1. The relayer module sees the witness and sends a transaction to the Rarimo contract on the destination chain.
1. The Rarimo contract receives the transaction and unlocks the equivalent tokens on the destination chain.
1. The Rarimo contract calls the application's smart contract to purchase the NFT, which sends the tokens to the seller's wallet on the destination chain and sends the purchased NFT to the customer's wallet.

![NFT checkout sequence diagram](/img/nft-settlement.png)

### References

[NFT Checkout use case demo](https://rarimo.gitlab.io/demo-settlement/?path=/story/demo-purchasewithanytoken--demo)

[Goerli Bridge](https://goerli.etherscan.io/address/0x6EA0C45bAC29a2A2769ec14f4BCD959b07780106)

[Sepolia Bridge](https://sepolia.etherscan.io/address/0x300f5ee2409c999eba1bfdadb4cf5d16a45500ac)

[Swap contract](https://goerli.etherscan.io/address/0x1840Bc40c28af54dF509A7e5dfC31723E5331d4D)
